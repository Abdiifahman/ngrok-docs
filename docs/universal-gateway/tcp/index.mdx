---
title: How Do I Handle TCP Traffic?
description: Learn how to handle TCP traffic with ngrok.
---

import TabItem from "@theme/TabItem";
import Tabs from "@theme/Tabs";

import RandomAgentCliExample from "/examples/agent-cli/tcp-random.mdx";
import RandomAgentConfigExample from "/examples/agent-config/tcp-random.mdx";
import RandomGoSdkExample from "/examples/go-sdk/tcp-random.mdx";
import RandomJavascriptSdkExample from "/examples/javascript-sdk/tcp-random.mdx";
import RandomKubernetesExample from "/examples/k8s/tcp-random.mdx";
import RandomPythonSdkExample from "/examples/python-sdk/tcp-random.mdx";
import RandomRustSdkExample from "/examples/rust-sdk/tcp-random.mdx";
import RandomSshExample from "/examples/ssh/tcp-random.mdx";

import NonLocalAgentCliExample from "/examples/agent-cli/tcp-nonlocal.mdx";
import NonLocalAgentConfigExample from "/examples/agent-config/tcp-nonlocal.mdx";
import NonLocalGoSdkExample from "/examples/go-sdk/tcp-nonlocal.mdx";
import NonLocalJavascriptSdkExample from "/examples/javascript-sdk/tcp-nonlocal.mdx";
import NonLocalKubernetesExample from "/examples/k8s/tcp-nonlocal.mdx";
import NonLocalPythonSdkExample from "/examples/python-sdk/tcp-nonlocal.mdx";
import NonLocalRustSdkExample from "/examples/rust-sdk/tcp-nonlocal.mdx";
import NonLocalSshExample from "/examples/ssh/tcp-nonlocal.mdx";

import ProxyProtoAgentCliExample from "/examples/agent-cli/tcp-proxyproto.mdx";
import ProxyProtoAgentConfigExample from "/examples/agent-config/tcp-proxyproto.mdx";
import ProxyProtoGoSdkExample from "/examples/go-sdk/tcp-proxyproto.mdx";
import ProxyProtoJavascriptSdkExample from "/examples/javascript-sdk/tcp-proxyproto.mdx";
import ProxyProtoKubernetesExample from "/examples/k8s/tcp-proxyproto.mdx";
import ProxyProtoPythonSdkExample from "/examples/python-sdk/tcp-proxyproto.mdx";
import ProxyProtoRustSdkExample from "/examples/rust-sdk/tcp-proxyproto.mdx";
import ProxyProtoSshExample from "/examples/ssh/tcp-proxyproto.mdx";

TCP endpoints enable you to deliver any network service with a TCP-based
protocol. They are commonly used to create connectivity for:

- Remote access protocols like SSH, VNC and RDP
- Databases like MySQL, Postgres, MSSQL and SQLite
- IoT protocols like MQTT
- Gaming servers like Minecraft

If you are accepting TLS traffic, consider using a [TLS Endpoint](/universal-gateway/tls/).

::::info Free Plan Usage
TCP endpoints are only available on a free plan after [adding a valid payment method](https://dashboard.ngrok.com/settings#id-verification) to your account.
::::

## Quickstart

Agent Endpoints are the easiest way to get started with ngrok. An [agent
endpoint](/universal-gateway/cloud-endpoints/) is started by a
[Secure Tunnels](/agent/) agent. The endpoint lives for the lifetime
of the process and forwards traffic to a port or URL of your choosing.

This example creates a TCP endpoint on a randomly-assigned URL - e.g.
`tcp://1.tcp.ngrok.io:12345` and forwards its traffic to a local port.

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<RandomAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<RandomAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<RandomSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<RandomGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<RandomJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<RandomPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<RandomRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<RandomKubernetesExample />
	</TabItem>
</Tabs>

## Learn more

- **URL Validation** — URLs are validated differently depending on their [binding](/universal-gateway/bindings). To learn more about valid URLs for TCP endpoints, see [the Endpoint URLs documentation](/docs/universal-gateway/what-are-endpoint-urls/#tcp).
- **Static URLs** — To create a public TCP endpoint with a static URL, you must first create a [TCP Address](/universal-gateway/tcp-addresses/). See [the documentation on static TCP URLs](/universal-gateway/tcp/static-tcp-urls/) for more information.
- **Authentication** — You can secure your TCP endpoints with the [IP Restriction](/traffic-policy/actions/restrict-ips/) and [Mutual TLS](/docs/guides/other-guides/how-to-terminate-traffic-with-ngrok-configs/#mutual-tls-example) Traffic Policy actions. There is a limited set of actions available to authenticate TCP traffic because the protocol is low-level.
- **Bring your own domain** — To use your own domain with TLS endpoints, see [the guide on the subject](/universal-gateway/how-do-i-use-my-own-domain).
- **Wildcard Endpoints** — You can create TLS endpoints that receive traffic from all of the subdomains matching a given wildcard domain. See [the wildcard domain docs](/universal-gateway/wildcard-domains/) for more information.
- **Traffic Policy** — Attach [Traffic Policy](/traffic-policy/) to endpoints to route, authenticate and transform the traffic through the endpoint.
- **Agent Forwarding** — The [ngrok agent](/agent/) and [Agent SDKs](/agent-sdks/) forward traffic that your endpoints receive to upstream services. See [the agent forwarding documentation](/universal-gateway/agent-forwarding/) for more information.
- **Traffic Observability** — [Traffic Inspector](/obs/traffic-inspection/) gives you a real-time view in the ngrok dashboard of the traffic flowing through your TLS endpoints. You can even [export traffic logs with the Traffic Events system](/docs/obs/events/reference/).
- **TLS Certificates** — Learn how [ngrok automatically handles TLS](/universal-gateway/tls-certificates/how-does-ngrok-handle-tls/) and [TLS termination](/universal-gateway/tls/tls-termination/) for TLS endpoints for you.

### Custom domains

Public TCP endpoints are assigned randomly on an ngrok-controlled hostname with
a randomly-assigned port. You may not choose the hostname and you may not
select the port.

You may, however, simulate a customized hostname by creating a CNAME record to
the hostname of your assigned TCP address. If you do so, be aware that all
ports on that hostname, even those provisioned to other accounts will then be
available on your domain.

For example if your TCP address is `5.tcp.ngrok.io:12345`, you could create the
following CNAME record:

```
CNAME tcp.mydomain.com -> 5.tcp.ngrok.io
```

And then you can access that TCP endpoint with

```
telnet tcp.mydomain.com 12345
```

### Log Export Events

You can export logs of traffic to TCP endpoints with [ngrok's events
system](/obs/events/). The following events are published for log exporting:

| Event                                                                    | When                                                               |
| ------------------------------------------------------------------------ | ------------------------------------------------------------------ |
| [tcp_connection_closed.v0](/obs/events/reference/#tcp-connection-closed) | Published when a TCP connection to any type of endpoint completes. |

## Errors

Learn how ngrok handles errors for TCP endpoints in the [Errors documentation](/errors/#tcp-errors).

## API

TCP Endpoints can be created programatically. Consult the documentation on
[Endpoint APIs](/api/resources/endpoints/).

## Limits & Pricing

TCP endpoints are available on all plans. To access them on the free plan, [add a payment method to your ngrok account](https://dashboard.ngrok.com/settings#id-verification). Consult the [pricing](/pricing-limits/) documentation for general billing details.

For TCP limits, see the [endpoint Limits documentation](/pricing-limits/endpoint-limits/#tcp-timeout-limits).

:::tip
See [TCP Addresses pricing](/universal-gateway/tcp-addresses/#pricing) for
details on pricing for fixed TCP Addresses.
:::
