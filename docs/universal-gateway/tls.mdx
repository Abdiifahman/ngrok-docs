---
title: TLS Endpoints
---

import TabItem from "@theme/TabItem";
import Tabs from "@theme/Tabs";

import TlsLimits from "./_tls_limits.mdx";

import AtAgentAgentCliExample from "/examples/agent-cli/tls-terminate-at-agent.mdx";
import AtAgentAgentConfigExample from "/examples/agent-config/tls-terminate-at-agent.mdx";
import AtAgentGoSdkExample from "/examples/go-sdk/tls-terminate-at-agent.mdx";
import AtAgentJavascriptSdkExample from "/examples/javascript-sdk/tls-terminate-at-agent.mdx";
import AtAgentKubernetesExample from "/examples/k8s/tls-terminate-at-agent.mdx";
import AtAgentPythonSdkExample from "/examples/python-sdk/tls-terminate-at-agent.mdx";
import AtAgentRustSdkExample from "/examples/rust-sdk/tls-terminate-at-agent.mdx";
import AtAgentSshExample from "/examples/ssh/tls-terminate-at-agent.mdx";

import AtUpstreamAgentCliExample from "/examples/agent-cli/tls-terminate-at-upstream.mdx";
import AtUpstreamAgentConfigExample from "/examples/agent-config/tls-terminate-at-upstream.mdx";
import AtUpstreamGoSdkExample from "/examples/go-sdk/tls-terminate-at-upstream.mdx";
import AtUpstreamJavascriptSdkExample from "/examples/javascript-sdk/tls-terminate-at-upstream.mdx";
import AtUpstreamKubernetesExample from "/examples/k8s/tls-terminate-at-upstream.mdx";
import AtUpstreamPythonSdkExample from "/examples/python-sdk/tls-terminate-at-upstream.mdx";
import AtUpstreamRustSdkExample from "/examples/rust-sdk/tls-terminate-at-upstream.mdx";
import AtUpstreamSshExample from "/examples/ssh/tls-terminate-at-upstream.mdx";

import CustomDomainAgentCliExample from "/examples/agent-cli/tls-terminate-at-edge-custom-domain.mdx";
import CustomDomainAgentConfigExample from "/examples/agent-config/tls-terminate-at-edge-custom-domain.mdx";
import CustomDomainGoSdkExample from "/examples/go-sdk/tls-terminate-at-edge-custom-domain.mdx";
import CustomDomainJavascriptSdkExample from "/examples/javascript-sdk/tls-terminate-at-edge-custom-domain.mdx";
import CustomDomainKubernetesExample from "/examples/k8s/tls-terminate-at-edge-custom-domain.mdx";
import CustomDomainPythonSdkExample from "/examples/python-sdk/tls-terminate-at-edge-custom-domain.mdx";
import CustomDomainRustSdkExample from "/examples/rust-sdk/tls-terminate-at-edge-custom-domain.mdx";
import CustomDomainSshExample from "/examples/ssh/tls-terminate-at-edge-custom-domain.mdx";

import ReencryptUpstreamAgentCliExample from "/examples/agent-cli/tls-reencrypt-upstream.mdx";
import ReencryptUpstreamAgentConfigExample from "/examples/agent-config/tls-reencrypt-upstream.mdx";
import ReencryptUpstreamGoSdkExample from "/examples/go-sdk/tls-reencrypt-upstream.mdx";
import ReencryptUpstreamJavascriptSdkExample from "/examples/javascript-sdk/tls-reencrypt-upstream.mdx";
import ReencryptUpstreamKubernetesExample from "/examples/k8s/tls-reencrypt-upstream.mdx";
import ReencryptUpstreamPythonSdkExample from "/examples/python-sdk/tls-reencrypt-upstream.mdx";
import ReencryptUpstreamRustSdkExample from "/examples/rust-sdk/tls-reencrypt-upstream.mdx";
import ReencryptUpstreamSshExample from "/examples/ssh/tls-reencrypt-upstream.mdx";

import ProxyProtoAgentCliExample from "/examples/agent-cli/tls-proxyproto.mdx";
import ProxyProtoAgentConfigExample from "/examples/agent-config/tls-proxyproto.mdx";
import ProxyProtoGoSdkExample from "/examples/go-sdk/tls-proxyproto.mdx";
import ProxyProtoJavascriptSdkExample from "/examples/javascript-sdk/tls-proxyproto.mdx";
import ProxyProtoKubernetesExample from "/examples/k8s/tls-proxyproto.mdx";
import ProxyProtoPythonSdkExample from "/examples/python-sdk/tls-proxyproto.mdx";
import ProxyProtoRustSdkExample from "/examples/rust-sdk/tls-proxyproto.mdx";
import ProxyProtoSshExample from "/examples/ssh/tls-proxyproto.mdx";

# TLS Endpoints

## Overview

TLS endpoints enable you to deliver any network service that runs over a
TLS-based protocol. TLS endpoints make no assumptions about the wrapped
protocol being transported.

TLS endpoints inspect the [Server Name Indication (SNI)](#sni)
data on incoming TLS connections to route connections to the appropriate
endpoint.

Because the TLS protocol describes no application-level semantics, ngrok can
only offer a [limited set of traffic policy actions](/traffic-policy/actions/)
to handle TLS traffic.

If you are delivering an HTTPS application, prefer to create an [HTTP
Endpoint](/universal-gateway/http/).

## Quickstart

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<CustomDomainAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<CustomDomainAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<CustomDomainSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<CustomDomainGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<CustomDomainJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<CustomDomainPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<CustomDomainRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<CustomDomainKubernetesExample />
	</TabItem>
</Tabs>

## Learn more

- **URLS** — URLs are validated differently depending on their [binding](/universal-gateway/bindings). To learn more about valid URLs for TLS endpoints, see [the Endpoint URLs documentation](/docs/universal-gateway/what-are-endpoint-urls/#http).
- **Domains** — Public TLS endpoints must match a domain on your account. See [the domains documentation](/universal-gateway/domains/what-are-domains/) for more information.
- **Authentication** — You can secure your TLS endpoints with the [IP Restriction](/traffic-policy/actions/restrict-ips/) and [Mutual TLS](/docs/guides/other-guides/how-to-terminate-traffic-with-ngrok-configs/#mutual-tls-example) Traffic Policy actions. There is a limited set of actions available to authenticate TLS traffic because the TLS protocol is low-level.
- **Bring your own domain** — To use your own domain with TLS endpoints, see [the guide on the subject](/universal-gateway/how-do-i-use-my-own-domain).
- **Wildcard Endpoints** — You can create TLS endpoints that receive traffic from all of the subdomains matching a given wildcard domain. See [the wildcard domain docs](/universal-gateway/wildcard-domains/) for more information.
- **Traffic Policy** — Attach [Traffic Policy](/traffic-policy/) to endpoints to route, authenticate and transform the traffic through the endpoint.
- **Agent Forwarding** — The [ngrok agent](/agent/) and [Agent SDKs](/agent-sdks/) forward traffic that your endpoints receive to upstream services. See [the agent forwarding documentation](/universal-gateway/agent-forwarding/) for more information.
- **Traffic Observability** — [Traffic Inspector](/obs/traffic-inspection/) gives you a real-time view in the ngrok dashboard of the HTTP traffic flowing through your TLS endpoints. You can even [export traffic logs with the Traffic Events system](/docs/obs/events/reference/#traffic-events).
- **TLS Certificates** — Learn how [ngrok automatically handles TLS](/universal-gateway/tls-certificates/how-does-ngrok-handle-tls/) and [TLS termination](/universal-gateway/tls-termination/) for TLS endpoints for you.

## TLS termination

TLS Endpoints enable you to to define where [TLS termination](/universal-gateway/tls-termination/) occurs. You can configure your endpoint to terminate TLS at the ngrok cloud service. You can also achieve [end-to-end encryption](/universal-gateway/tls-termination/#end-to-end-encryption) by terminating at the agent or your upstream service.

:::tip
When you use end-to-end encryption, the ngrok cloud service can not see payloads that transit through your endpoints.
:::

See [the TLS Termination documentation](/universal-gateway/tls-termination/#termination-location) for more information.

## Observability

### Traffic Inspector

[Traffic Inspector](/obs/traffic-inspection) does not support TLS endpoints.

### Log Export Events

You can export logs of traffic to TLS endpoints with [ngrok's events
system](/obs/). The following events are published for log exporting:

| Event                                                                    | When                                                         |
| ------------------------------------------------------------------------ | ------------------------------------------------------------ |
| [tcp_connection_closed.v0](/obs/events/reference/#tcp-connection-closed) | Published when a TCP connection to a TCP endpoint completes. |

## Errors

Learn how ngrok handles errors for TLS endpoints in the [Errors documentation](/errors/#tls-errors).

## API

TLS Endpoints can be created programatically. Consult the documentation on
[Endpoint APIs](/api/resources/endpoints/).

## Limits & Timeouts

TLS endpoints are available on Pay-as-you-go, Pro, and Enterprise plans. Consult the [pricing](/pricing-limits/) documentation for general billing details.

For TLS limits, see the [endpoint Limits documentation](/pricing-limits/endpoint-limits/).
