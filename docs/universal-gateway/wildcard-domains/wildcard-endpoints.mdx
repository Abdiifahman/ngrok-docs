---
title: How Do I Use Wildcard Endpoints?
---

import WildcardAgentCliExample from "/examples/agent-cli/http-wildcard-domain.mdx";
import WildcardAgentConfigExample from "/examples/agent-config/http-wildcard-domain.mdx";
import WildcardGoSdkExample from "/examples/go-sdk/http-wildcard-domain.mdx";
import WildcardJavascriptSdkExample from "/examples/javascript-sdk/http-wildcard-domain.mdx";
import WildcardKubernetesExample from "/examples/k8s/http-wildcard-domain.mdx";
import WildcardPythonSdkExample from "/examples/python-sdk/http-wildcard-domain.mdx";
import WildcardRustSdkExample from "/examples/rust-sdk/http-wildcard-domain.mdx";
import WildcardSshExample from "/examples/ssh/http-wildcard-domain.mdx";

You can create an endpoint which will receive traffic for all of the subdomains matching a given wildcard domain like `*.example.com`. You must create a [wildcard domain](/universal-gateway/domains/what-are-domains/#wildcard-domains) to create a public wildcard endpoint.

For example, if you create the wildcard endpoint `https://*.example.com`, it
will receive traffic for `https://foo.example.com` and
`https://bar.example.com`.

- Connections to URLs which match an online wildcard endpoint will be routed to
  it. For example, if you have created a wildcard endpoint
  `https://*.example.com`, connections to `https://foo.bar.baz.example.com` will
  route to it.
- Connections are routed to the most specific online endpoint. For example, if
  the endpoints `https://*.example.com` and `https://app.example.com` are both
  online, a connection to `https://app.example.com` will not be routed to the
  wildcard endpoint.

<Tabs groupId="connectivity" queryString="cty">
	<TabItem value="agent-cli" label="Agent CLI" default>
		<WildcardAgentCliExample />
	</TabItem>
	<TabItem value="agent-config" label="Agent Config">
		<WildcardAgentConfigExample />
	</TabItem>
	<TabItem value="ssh" label="SSH">
		<WildcardSshExample />
	</TabItem>
	<TabItem value="go-sdk" label="Go">
		<WildcardGoSdkExample />
	</TabItem>
	<TabItem value="javascript-sdk" label="Javascript">
		<WildcardJavascriptSdkExample />
	</TabItem>
	<TabItem value="python-sdk" label="Python">
		<WildcardPythonSdkExample />
	</TabItem>
	<TabItem value="rust-sdk" label="Rust">
		<WildcardRustSdkExample />
	</TabItem>
	<TabItem value="k8s" label="Kubernetes Controller">
		<WildcardKubernetesExample />
	</TabItem>
</Tabs>

## Wildcard endpoint pooling

Wildcard endpoints do not pool with non-wildcard URLs. For example, if you have two endpoints online, `https://foo.example.com` and `https://*.example.com`, they will not pool together and traffic to `https://foo.example.com` will not be load balanced.

### How do I use multiple endpoints with wildcard subdomains?

With the [Agent CLI](/agent/cli), you can create separate public endpoints for subdomains of a wildcard domain no matter where the upstream services are running. See [the Domains docs](/docs/universal-gateway/domains/#wildcard-domains) for more information.

For example, if you reserve `*.example.com` and want to route requests to `api1.example.com` and `api2.example.com`, you can specify subdomains via the CLI. ngrok will handle routing requests to the correct endpoint, even if they're on different ports.

The first one might be at port `80`:

```bash
ngrok http 80 --url https://api1.example.com
```

While the second is at port `81`:

```bash
ngrok http 81 --url https://api2.example.com
```

:::tip
This is only necessary for creating _public_ endpoints to subdomains. Internal endpoints don't require a domain.
:::
