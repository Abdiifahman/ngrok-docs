---
title: Event Logging Example
sidebar_label: Event Logging
---

import ConfigExample from "/src/components/ConfigExample.tsx";

Connect your API to ngrok's [event logging system](/docs/obs/index.mdx) for smarter troubleshooting of your API gateway and upstream services.

<ConfigExample
    config={{
        on_http_request: [],
        on_http_response: [
            {
                expressions: ["res.status_code < '200' && res.status_code >= '300'"],
                name: "Log unsuccessful requests",
                actions: [
                    {
                        type: "log",
                        config: {
                            metadata: {
                                message: "Unsuccessful request",
                                edge_id: "<YOUR-NGROK-DOMAIN>",
                                success: false,
                            },
                        },
                    },
                ],
            },
        ],
    }}
/>